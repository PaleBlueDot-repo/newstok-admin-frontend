<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewsTok - News Scrap</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
    <script src="js/isValid.js"></script> 

</head>

<body>
    <header>
        <div class="logosec">
            <div class="logo">NewsTok admin</div>
            <img src="images/menu.png" class="icn menuicn" id="menuicn" alt="menu-icon">
        </div>

        <div class="message">
            <div class="dp">
                <img style="width:25px;height: 25px;" src="images/user.png" class="dpicn" alt="dp">
            </div>
        </div>
    </header>
    <div class="main-container">
        <div class="navcontainer">
            <nav class="nav">
                <div class="nav-upper-options">
                    <div class="nav-option option1" onclick="location.href='index.html'">
                        <img src="images/dashboard.png" class="nav-img" alt="dashboard">
                        <h3>Dashboard</h3>
                    </div>
                    <div style="background-color: #74c6a5;" class="option2 nav-option" onclick="location.href='news-scrap.html'">
                        <img src="images/analysis.png" class="nav-img" alt="news scrap">
                        <h3>News Scrap</h3>
                    </div>
                    <div class="nav-option option3" onclick="location.href='makereels.html'">
                        <img src="images/news.png" class="nav-img" alt="newsreels" >
                        <h3>Newsreels</h3>
                    </div>
                    <div class="nav-option logout" onclick="logout()">
                        <img src="images/power-off.png" class="nav-img" alt="logout">
                        <h3>Logout</h3>
                    </div>
                </div>
            </nav>
        </div>

        <div class="main">
            <div class="scrap-container">
                <h1 style="color:#199961" class="scrap-title">News Scrap</h1>
                <form id="scrapForm">
                    <label for="newsSource">Select News Source:</label>
                    <select id="newsSource" name="newsSource" required onchange="showCategories()">
                        <option value="">--Select a News Paper--</option>
                        <option value="source1">Bangla 24livenewspaper</option>
                        <option value="source2">Dailynewnation</option>
                        
                    </select>
            
                    <div id="categoryContainer" style="display:none;">
                        <label for="newsCategory">Select News Category:</label>
                        <select id="newsCategory" name="newsCategory" required>
                            <!-- Categories will be dynamically populated here -->
                        </select>
                    </div>
            
                    <button style="background-color: #199961; color: #ffffff; border: none; padding: 12px 20px; cursor: pointer; border-radius: 5px; font-size: 16px;" type="submit">Scrap News</button>
                </form>
            
                <div id="scrapResult">
                    <!-- Example static value -->
                    <p>Scraping from News Source 1... Please wait.</p>
                </div>
            </div>
            
            <script>
               const categories = {
        source1: ["Bangladesh", "World", "Sports", "Science-Technology", "Lifestyle", "Exception"],
        source2: ["Business-Economy", "City", "Front-Page", "Back-Page", "Entertainment", "National", "Sports"]
    };
            
                function showCategories() {
                    const source = document.getElementById("newsSource").value;
                    const categoryContainer = document.getElementById("categoryContainer");
                    const newsCategory = document.getElementById("newsCategory");
            
                    if (source) {
                        categoryContainer.style.display = "block";
                        newsCategory.innerHTML = categories[source].map(cat => `<option value="${cat}">${cat}</option>`).join("");
                    } else {
                        categoryContainer.style.display = "none";
                        newsCategory.innerHTML = "";
                    }
                }


    document.getElementById("scrapForm").addEventListener("submit", function(event) {
    event.preventDefault(); // Prevent the default form submission

    const source = document.getElementById("newsSource").value;
    const category = document.getElementById("newsCategory").value;

    scrapNews(source, category);
});

            </script>
            

            <div class="report-container">
                <div class="report-header">
                    <h1 class="recent-Articles">Scraped News</h1>
                </div>
                <div class="report-body">
                    <table>
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Source</th>
                                <th>Date</th>
                                <th>Content</th>
                            </tr>
                        </thead>
                        <tbody id="scrapedNewsTable">
                            <!-- Example static rows -->
                            <tr>
                                <td>Sample News 1</td>
                                <td>News Source 1</td>
                                <td>2024-07-06</td>
                                <td>Published</td>
                            </tr>
                            <tr>
                                <td>Sample News 2</td>
                                <td>News Source 1</td>
                                <td>2024-07-06</td>
                                <td>Published</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
</body>

</html>
